transaction.commit() synchronises persistence context with database
session.close() => detach state